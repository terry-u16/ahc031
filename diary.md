# AHC031日記

文章書こうとすると続かないことがAHC030で判明したので箇条書きで書いていくよ

## 1日目（金）

- 2次元ムズい。ギロチンカット問題を考えて縦横に再帰的に分割する？
  - 上手くパーティションを共有出来る気がしない
- 考察のためまずは1次元を……1次元でよくね？
- クソ雑に焼いて提出。13.241Bで17位
- スペース不足ペナルティ、問題文読んだときの直感よりかなり重いな……
- 空きスペース、最小で5%あると思ったら0.25%だった。きっつい
  - 1次元だと毎回パーティション配置し直してもスペース不足ペナルティに引っかかる
- 本当に1次元だと弱そう
  - 微調整が効かない
  - 1つ動かすときに長さ1000のパーティションの削除と追加が発生する
  - 実行時間100倍にしてみたけど相対スコア2倍が関の山だなあ
- 一方でガチ2次元は手に負えない。縦にいくつか分割したそれぞれで1次元的に考える1.5次元スタイルはどうか
  - ビンパッキングっぽい問題になる
- 意外とビムサ使えたりしない？焼きなましだと途中をいじったときの後ろへの影響が大きい
  - ビムサはビムサで次の手の選び方がムズい
  - 一部いじったときのマッチングを高速に計算できたりしない？
  - ビムサの1手を山登りで作れたりしない？
- ビンパッキングと考えるとa_{d,i}+a_{d,j}≒a_{d+1,k}みたいなのを上手く作って繋げていく問題になったりしない？
  - 隣接要素同士でないと分割・マージができないのがネック
  - 2段階で解けたりしない？
- 各a_{d,i}の分布は見ておきたい

## 2日目（土）

- a_{d,i}の分布見ようとしてようやく気付いたけどこれAHC025（天秤のやつ）感あるな
- 縦に分割して1.5次元だとパーティションが長くなりがちか
  - 縦横に再帰的に分割するとパーティションの長さが短くできるはず
  - 二分木っぽくすると良い？
- 黄金比？別に変わらんか
  - 焼きなましくんにお任せ
- 二分木状にするとして、どう分割するかはdpでできそう
- 二分木のやつ、とりあえずdpだけやった
  - それっぽく分割できるように見える
  - 白赤の横長長方形が上下に並ぶとポーランドの国旗にしか見えねえ
    - [ポーランド](https://ja.wikipedia.org/wiki/%E3%83%9D%E3%83%BC%E3%83%A9%E3%83%B3%E3%83%89)
    - だいたいHoI4のせい
    - そういやPsyhoさんもポーランドか
- 長方形の配置順、結構影響しそうな気がするけどどうすればいいかよく分からん
  - 相関係数を見たところ、kの差が小さいと相関係数が正に、kの差が大きいと相関係数が負になった。まあ直感通りか
- 実装方針がムズい
  - できた
- がんばって実装する
  - 思ったよりバグらせなかった
  - 初期解からだいぶズレて意図しない形になってるな
  - 相対スコアは4倍ちょっとくらいになりそう
- 気付いたら3.383Bで97位まで落ちてた
  - 15.704Bで11位。悪くはないが……
  - 1位は40Bなので全然届かない
- ここからあんまり伸びる気がしないなあ
  - 実行時間10倍にしても2割改善がいいとこ
  - AHC025みたいに小さいやつで微調整するのがやりたい
  - どうやって実現するかというアイデアはない……
